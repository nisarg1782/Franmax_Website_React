"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[2730],{349:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var i=s(5043),n=s(7281),t=s(9379),l=s(9722),r=s(184),d=s(3862),o=s(579);const c=e=>{var a,s,n,c;let{brandData:_,onClose:m,onUpdate:h}=e;const[u,v]=(0,i.useState)("personal"),[p,x]=(0,i.useState)([]),[j,g]=(0,i.useState)([]),[f,y]=(0,i.useState)([]),[b,N]=(0,i.useState)([]),[C,S]=(0,i.useState)([]),[k,w]=(0,i.useState)([]),[A,E]=(0,i.useState)([]),[q,P]=(0,i.useState)(!1),[O,F]=(0,i.useState)(!1),R=["0-10","11-50","51-100","100+"],D=["Yes","No"],M=["1","2","3","5","10","15"],I=["100-500","501-1500","1501-2500","2501-5000","5000+"],L=["250000-1000000","1100000-2000000","2100000-3500000","3600000-5000000","5000000-10000000","10000000+"],T=["15-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90","90-100","100+"],Y=["0.5","1","1.5","2","2+"],[B,U]=(0,i.useState)(null),[X,z]=(0,i.useState)(!1),[W,V]=(0,i.useState)({name:(null===_||void 0===_?void 0:_.name)||"",email:(null===_||void 0===_?void 0:_.email)||"",mobile:(null===_||void 0===_?void 0:_.mobile)||"",address:(null===_||void 0===_?void 0:_.address)||"",description:(null===_||void 0===_?void 0:_.description)||"",bd_manager_name:(null===_||void 0===_?void 0:_.bd_manager_name)||"",bd_manager_email:(null===_||void 0===_?void 0:_.bd_manager_email)||"",bd_manager_contact:(null===_||void 0===_?void 0:_.bd_manager_contact)||"",state_id:(null===_||void 0===_?void 0:_.state_id)||"",city_id:(null===_||void 0===_?void 0:_.city_id)||"",mas_cat_id:(null===_||void 0===_?void 0:_.mas_cat_id)||"",cat_id:(null===_||void 0===_?void 0:_.cat_id)||"",sub_cat_id:(null===_||void 0===_?void 0:_.sub_cat_id)||"",commenced_operations_year:(null===_||void 0===_?void 0:_.commenced_operations_year)||"",expansion_started_year:(null===_||void 0===_?void 0:_.expansion_started_year)||"",total_outlets:(null===_||void 0===_?void 0:_.total_outlets)||"",company_owned_outlets:(null===_||void 0===_?void 0:_.company_owned_outlets)||"",franchise_owned_outlets:(null===_||void 0===_?void 0:_.franchise_owned_outlets)||"",franchise_years:(null===_||void 0===_?void 0:_.franchise_years)||"",is_agreement_renewable:(null===_||void 0===_?void 0:_.is_agreement_renewable)||"",operations_manual_provided:(null===_||void 0===_?void 0:_.operations_manual_provided)||"",training_provided:(null===_||void 0===_?void 0:_.training_provided)||"",it_systems_included:(null===_||void 0===_?void 0:_.it_systems_included)||"",marketing_materials_provided:(null===_||void 0===_?void 0:_.marketing_materials_provided)||"",head_office_assistance:(null===_||void 0===_?void 0:_.head_office_assistance)||"",franchise_model:(null===_||void 0===_?void 0:_.franchise_model)||"",franchise_type_id:(null===_||void 0===_?void 0:_.franchise_type_id)||"",single_area:(null===_||void 0===_?void 0:_.required_area)||"",single_investment:(null===_||void 0===_?void 0:_.investment_range)||"",single_roi:(null===_||void 0===_?void 0:_.expected_roi)||"",single_payback:(null===_||void 0===_?void 0:_.expected_payback_period)||"",master_scope:(null===_||void 0===_?void 0:_.master_scope)||"",master_franchise_details:{country:{area:(null===_||void 0===_?void 0:_.master_required_area_country)||"",investment:(null===_||void 0===_?void 0:_.master_investment_range_country)||"",roi:(null===_||void 0===_?void 0:_.master_expected_roi_country)||"",payback:(null===_||void 0===_?void 0:_.master_expected_payback_period_country)||""},state:{area:(null===_||void 0===_?void 0:_.master_required_area_state)||"",investment:(null===_||void 0===_?void 0:_.master_investment_range_state)||"",roi:(null===_||void 0===_?void 0:_.master_expected_roi_state)||"",payback:(null===_||void 0===_?void 0:_.master_expected_payback_period_state)||""},city:{area:(null===_||void 0===_?void 0:_.master_required_area_city)||"",investment:(null===_||void 0===_?void 0:_.master_investment_range_city)||"",roi:(null===_||void 0===_?void 0:_.master_expected_roi_city)||"",payback:(null===_||void 0===_?void 0:_.master_expected_payback_period_city)||""}},master_franchise_state_ids:(null===_||void 0===_||null===(a=_.master_franchise_state_ids)||void 0===a?void 0:a.split(","))||[],master_franchise_city_ids:(null===_||void 0===_||null===(s=_.master_franchise_city_ids)||void 0===s?void 0:s.split(","))||[],expansion_state_ids:(null===_||void 0===_||null===(n=_.expansion_state_ids)||void 0===n?void 0:n.split(","))||[],expansion_city_ids:(null===_||void 0===_||null===(c=_.expansion_city_ids)||void 0===c?void 0:c.split(","))||[]});(0,i.useEffect)(()=>{var e,a,s,i;_&&V({name:_.name||"",email:_.email||"",mobile:_.mobile||"",address:_.address||"",description:_.description||"",bd_manager_name:_.bd_manager_name||"",bd_manager_email:_.bd_manager_email||"",bd_manager_contact:_.bd_manager_contact||"",state_id:_.state_id||"",city_id:_.city_id||"",mas_cat_id:_.mas_cat_id||"",cat_id:_.cat_id||"",sub_cat_id:_.sub_cat_id||"",commenced_operations_year:_.commenced_operations_year||"",expansion_started_year:_.expansion_started_year||"",total_outlets:_.total_outlets||"",company_owned_outlets:_.company_owned_outlets||"",franchise_owned_outlets:_.franchise_owned_outlets||"",franchise_years:_.franchise_years||"",is_agreement_renewable:_.is_agreement_renewable||"",operations_manual_provided:_.operations_manual_provided||"",training_provided:_.training_provided||"",it_systems_included:_.it_systems_included||"",marketing_materials_provided:_.marketing_materials_provided||"",head_office_assistance:_.head_office_assistance||"",franchise_model:_.franchise_model||"",franchise_type_id:_.franchise_type_id||"",single_area:_.required_area||"",single_investment:_.investment_range||"",single_roi:_.expected_roi||"",single_payback:_.expected_payback_period||"",master_scope:_.master_scope||"",master_franchise_details:{country:{area:(null===_||void 0===_?void 0:_.master_required_area_country)||"",investment:(null===_||void 0===_?void 0:_.master_investment_range_country)||"",roi:(null===_||void 0===_?void 0:_.master_expected_roi_country)||"",payback:(null===_||void 0===_?void 0:_.master_expected_payback_period_country)||""},state:{area:(null===_||void 0===_?void 0:_.master_required_area_state)||"",investment:(null===_||void 0===_?void 0:_.master_investment_range_state)||"",roi:(null===_||void 0===_?void 0:_.master_expected_roi_state)||"",payback:(null===_||void 0===_?void 0:_.master_expected_payback_period_state)||""},city:{area:(null===_||void 0===_?void 0:_.master_required_area_city)||"",investment:(null===_||void 0===_?void 0:_.master_investment_range_city)||"",roi:(null===_||void 0===_?void 0:_.master_expected_roi_city)||"",payback:(null===_||void 0===_?void 0:_.master_expected_payback_period_city)||""}},master_franchise_state_ids:(null===(e=_.master_franchise_state_ids)||void 0===e?void 0:e.split(","))||[],master_franchise_city_ids:(null===(a=_.master_franchise_city_ids)||void 0===a?void 0:a.split(","))||[],expansion_state_ids:(null===(s=_.expansion_state_ids)||void 0===s?void 0:s.split(","))||[],expansion_city_ids:(null===(i=_.expansion_city_ids)||void 0===i?void 0:i.split(","))||[]})},[_]),(0,i.useEffect)(()=>{(async()=>{try{const[e,a,s,i]=await Promise.all([l.A.get((0,d.e)("get-indian-states.php")),l.A.get((0,d.e)("get-master-category.php")),l.A.get((0,d.e)("get-modals.php")),l.A.get((0,d.e)("get-franchise-type.php"))]);x(e.data),y(a.data),w(s.data.success?s.data.data:[]),E(i.data.success?i.data.data:[])}catch(e){console.error("Error fetching initial data:",e)}})()},[]),(0,i.useEffect)(()=>{W.state_id?l.A.get((0,d.e)("get-cities.php?state_id=".concat(W.state_id))).then(e=>g(e.data)).catch(e=>console.error("Error fetching cities:",e)):g([])},[W.state_id]),(0,i.useEffect)(()=>{W.mas_cat_id?(V(e=>(0,t.A)((0,t.A)({},e),{},{cat_id:"",sub_cat_id:""})),S([]),l.A.get((0,d.e)("get-category.php?mas_cat_id=".concat(W.mas_cat_id))).then(e=>N(e.data)).catch(e=>console.error("Error fetching categories:",e))):(N([]),V(e=>(0,t.A)((0,t.A)({},e),{},{cat_id:"",sub_cat_id:""})),S([]))},[W.mas_cat_id]),(0,i.useEffect)(()=>{W.cat_id?(V(e=>(0,t.A)((0,t.A)({},e),{},{sub_cat_id:""})),l.A.get((0,d.e)("get-sub-category.php?cat_id=".concat(W.cat_id))).then(e=>S(e.data)).catch(e=>console.error("Error fetching sub-categories:",e))):S([])},[W.cat_id]);const $=e=>{const{name:a,value:s}=e.target;V(e=>(0,t.A)((0,t.A)({},e),{},{[a]:s}))},J=(e,a,s)=>{V(i=>(0,t.A)((0,t.A)({},i),{},{master_franchise_details:(0,t.A)((0,t.A)({},i.master_franchise_details),{},{[e]:(0,t.A)((0,t.A)({},i.master_franchise_details[e]),{},{[a]:s})})}))};(0,i.useEffect)(()=>{(async()=>{P(!0);try{const e=await fetch("http://localhost/react-api/get-indian-states.php"),a=await e.json();x(a)}catch(e){console.error("Error fetching states:",e)}finally{P(!1)}})()},[]),(0,i.useEffect)(()=>{(async()=>{const e=W.expansion_state_ids;if(0===e.length)return g([]),void V(e=>(0,t.A)((0,t.A)({},e),{},{expansion_city_ids:[]}));F(!0);try{const a=e.map(e=>fetch("http://localhost/react-api/get-cities.php?state_id=".concat(e)).then(e=>e.json())),s=(await Promise.all(a)).flat();g(s),V(e=>{const a=s.map(e=>e.id),i=e.expansion_city_ids.filter(e=>a.includes(e));return(0,t.A)((0,t.A)({},e),{},{expansion_city_ids:i})})}catch(a){console.error("Error fetching cities:",a)}finally{F(!1)}})()},[W.expansion_state_ids]);const Q=(e,a)=>{V(s=>{const i=s[e],n=i.includes(a)?i.filter(e=>e!==a):[...i,a];return(0,t.A)((0,t.A)({},s),{},{[e]:n})})},Z=e=>{var a;const s=(null===(a=W.master_franchise_details)||void 0===a?void 0:a[e.toLowerCase()])||{};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.$qz,{})," Required Area (sq. ft.)"]}),(0,o.jsxs)("select",{name:"area",value:s.area||"",onChange:a=>J(e.toLowerCase(),a.target.name,a.target.value),children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),I.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.XVP,{})," Investment Range (\u20b9)"]}),(0,o.jsxs)("select",{name:"investment",value:s.investment||"",onChange:a=>J(e.toLowerCase(),a.target.name,a.target.value),children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),L.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.YYR,{})," Expected ROI (%)"]}),(0,o.jsxs)("select",{name:"roi",value:s.roi||"",onChange:a=>J(e.toLowerCase(),a.target.name,a.target.value),children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),T.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.w_X,{})," Expected Payback Period"]}),(0,o.jsxs)("select",{name:"payback",value:s.payback||"",onChange:a=>J(e.toLowerCase(),a.target.name,a.target.value),children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),Y.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]})]})};return(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"edit-profile-modal",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h2",{children:"Edit Brand Profile"}),(0,o.jsx)("button",{className:"close-btn",onClick:m,children:"\xd7"})]}),(0,o.jsxs)("div",{className:"modal-tabs",children:[(0,o.jsx)("button",{onClick:()=>v("personal"),className:"personal"===u?"active":"",children:"Personal Info"}),(0,o.jsx)("button",{onClick:()=>v("business-summary"),className:"business-summary"===u?"active":"",children:"Business Summary"}),(0,o.jsx)("button",{onClick:()=>v("franchise-info"),className:"franchise-info"===u?"active":"",children:"Franchise Info"}),(0,o.jsx)("button",{onClick:()=>v("expansion"),className:"expansion"===u?"active":"",children:"Expansion"})]}),(0,o.jsxs)("div",{className:"modal-body",children:["personal"===u&&(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.ymh,{})," Brand Name"]}),(0,o.jsx)("input",{type:"text",name:"name",value:W.name,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.maD,{})," Email"]}),(0,o.jsx)("input",{type:"text",name:"email",value:W.email,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.Cab,{})," Phone"]}),(0,o.jsx)("input",{type:"text",name:"mobile",value:W.mobile,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.f35,{})," Master Category"]}),(0,o.jsxs)("select",{name:"mas_cat_id",value:W.mas_cat_id,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),f.map(e=>(0,o.jsx)("option",{value:e.mas_cat_id,children:e.mas_cat_name},e.mas_cat_id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Category"}),(0,o.jsxs)("select",{name:"cat_id",value:W.cat_id,onChange:$,disabled:!W.mas_cat_id,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),b.map(e=>(0,o.jsx)("option",{value:e.cat_id,children:e.cat_name},e.cat_id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Sub-Category"}),(0,o.jsxs)("select",{name:"sub_cat_id",value:W.sub_cat_id,onChange:$,disabled:!W.cat_id,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),C.map(e=>(0,o.jsx)("option",{value:e.subcat_id,children:e.subcat_name},e.subcat_id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.vq8,{})," State"]}),(0,o.jsxs)("select",{name:"state_id",value:W.state_id,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),p.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.zsO,{})," City"]}),(0,o.jsxs)("select",{name:"city_id",value:W.city_id,onChange:$,disabled:!W.state_id,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),j.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.x$1,{})," Manager Name"]}),(0,o.jsx)("input",{type:"text",name:"bd_manager_name",value:W.bd_manager_name,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.maD,{})," Manager Email"]}),(0,o.jsx)("input",{type:"text",name:"bd_manager_email",value:W.bd_manager_email,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.Cab,{})," Manager Contact"]}),(0,o.jsx)("input",{type:"text",name:"bd_manager_contact",value:W.bd_manager_contact,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group full",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.vq8,{})," Address"]}),(0,o.jsx)("textarea",{name:"address",value:W.address,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group full",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.vq8,{})," Description"]}),(0,o.jsx)("textarea",{name:"description",value:W.description,onChange:$})]})]}),"business-summary"===u&&(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.ymh,{}),"Franchise Fee"]}),(0,o.jsx)("input",{type:"text",name:"franchise_fee",value:W.franchise_fee,onChange:$})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Year of Commenced Operations"}),(0,o.jsx)("input",{type:"number",min:"1900",max:(new Date).getFullYear(),name:"commenced_operations_year",value:W.commenced_operations_year,onChange:$,placeholder:"e.g., 2020"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Year of Expansion Started"}),(0,o.jsx)("input",{type:"number",min:"1900",max:(new Date).getFullYear(),name:"expansion_started_year",value:W.expansion_started_year,onChange:$,placeholder:"e.g., 2022"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Total Outlets"}),(0,o.jsxs)("select",{name:"total_outlets",value:W.total_outlets,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),R.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Company Owned Outlets"}),(0,o.jsxs)("select",{name:"company_owned_outlets",value:W.company_owned_outlets,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),R.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Franchise Owned Outlets"}),(0,o.jsxs)("select",{name:"franchise_owned_outlets",value:W.franchise_owned_outlets,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),R.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Franchise Years"}),(0,o.jsxs)("select",{name:"franchise_years",value:W.franchise_years,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),M.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Is Agreement Renewable?"}),(0,o.jsxs)("select",{name:"is_agreement_renewable",value:W.is_agreement_renewable,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),D.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Operations Manual Provided?"}),(0,o.jsxs)("select",{name:"operations_manual_provided",value:W.operations_manual_provided,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),D.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Training Provided?"}),(0,o.jsxs)("select",{name:"training_provided",value:W.training_provided,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),D.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"IT Systems Included?"}),(0,o.jsxs)("select",{name:"it_systems_included",value:W.it_systems_included,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),D.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Marketing Materials Provided?"}),(0,o.jsxs)("select",{name:"marketing_materials_provided",value:W.marketing_materials_provided,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),D.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Head Office Assistance?"}),(0,o.jsxs)("select",{name:"head_office_assistance",value:W.head_office_assistance,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),D.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]})]}),"franchise-info"===u&&(()=>{const e=A.find(e=>e.id===W.franchise_type_id),a="Single Unit"===(null===e||void 0===e?void 0:e.name),s="Master Franchise"===(null===e||void 0===e?void 0:e.name),i="Both"===(null===e||void 0===e?void 0:e.name),n=s||i;return(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.DDN,{})," Franchise Model"]}),(0,o.jsxs)("select",{name:"franchise_model",value:W.franchise_model,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),k.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.DDN,{})," Franchise Type"]}),(0,o.jsxs)("select",{name:"franchise_type_id",value:W.franchise_type_id,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),A.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(a||i)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:"Single Unit Details"}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.$qz,{})," Required Area (sq. ft.)"]}),(0,o.jsxs)("select",{name:"single_area",value:W.single_area,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),I.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.XVP,{})," Investment Range (\u20b9)"]}),(0,o.jsxs)("select",{name:"single_investment",value:W.single_investment,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),L.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.YYR,{})," Expected ROI (%)"]}),(0,o.jsxs)("select",{name:"single_roi",value:W.single_roi,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),T.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.w_X,{})," Expected Payback Period"]}),(0,o.jsxs)("select",{name:"single_payback",value:W.single_payback,onChange:$,children:[(0,o.jsx)("option",{value:"",children:"-- Select --"}),Y.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]})]}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:"Master Franchise Details"}),(0,o.jsx)("h4",{children:"Country Wise"}),Z("Country"),(0,o.jsx)("h4",{children:"State Wise"}),Z("State"),(0,o.jsx)("h4",{children:"City Wise"}),Z("City")]})]})})(),"expansion"===u&&(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group full",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.vq8,{})," Target States"]}),(0,o.jsx)("div",{className:"multi-select-container",children:q?(0,o.jsx)("p",{children:"Loading states..."}):p.map(e=>(0,o.jsxs)("label",{className:"checkbox-label",children:[(0,o.jsx)("input",{type:"checkbox",value:e.id,checked:W.expansion_state_ids.includes(e.id),onChange:()=>Q("expansion_state_ids",e.id)}),e.name]},e.id))})]}),W.expansion_state_ids.length>0&&(0,o.jsxs)("div",{className:"form-group full",children:[(0,o.jsxs)("label",{children:[(0,o.jsx)(r.zsO,{})," Target Cities"]}),(0,o.jsx)("div",{className:"multi-select-container",children:O?(0,o.jsx)("p",{children:"Loading cities..."}):j.map(e=>(0,o.jsxs)("label",{className:"checkbox-label",children:[(0,o.jsx)("input",{type:"checkbox",value:e.id,checked:W.expansion_city_ids.includes(e.id),onChange:()=>Q("expansion_city_ids",e.id)}),e.name]},e.id))})]})]})]}),X&&(0,o.jsx)("div",{className:"alert info",children:"Saving changes..."}),B&&(0,o.jsx)("div",{className:"alert ".concat(B.type),children:B.text}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsxs)("button",{className:"btn cancel",onClick:m,children:[(0,o.jsx)(r.EEI,{})," Cancel"]}),(0,o.jsx)("button",{className:"btn save",onClick:async()=>{var e,a,s,i,n,t,r,o,c,h,u,v,p;z(!0),U(null);W.master_franchise_details[null===(e=W.master_scope)||void 0===e?void 0:e.toLowerCase()];const x={id:_.id,name:W.name,email:W.email,mobile:W.mobile,address:W.address,description:W.description,bd_manager_name:W.bd_manager_name,bd_manager_email:W.bd_manager_email,bd_manager_contact:W.bd_manager_contact,state_id:W.state_id,city_id:W.city_id,mas_cat_id:W.mas_cat_id,cat_id:W.cat_id,sub_cat_id:W.sub_cat_id,franchise_fee:W.franchise_fee,commenced_operations_year:W.commenced_operations_year,expansion_started_year:W.expansion_started_year,total_outlets:W.total_outlets,company_owned_outlets:W.company_owned_outlets,franchise_owned_outlets:W.franchise_owned_outlets,franchise_years:W.franchise_years,is_agreement_renewable:W.is_agreement_renewable,operations_manual_provided:W.operations_manual_provided,training_provided:W.training_provided,it_systems_included:W.it_systems_included,marketing_materials_provided:W.marketing_materials_provided,head_office_assistance:W.head_office_assistance,franchise_model:W.franchise_model,franchise_type_id:W.franchise_type_id,single_required_area:W.single_area,single_investment_range:W.single_investment,single_expected_roi:W.single_roi,single_expected_payback_period:W.single_payback,master_scope:W.master_scope,master_required_area_country:null===(a=W.master_franchise_details.country)||void 0===a?void 0:a.area,master_investment_range_country:null===(s=W.master_franchise_details.country)||void 0===s?void 0:s.investment,master_expected_roi_country:null===(i=W.master_franchise_details.country)||void 0===i?void 0:i.roi,master_expected_payback_period_country:null===(n=W.master_franchise_details.country)||void 0===n?void 0:n.payback,master_required_area_state:null===(t=W.master_franchise_details.state)||void 0===t?void 0:t.area,master_investment_range_state:null===(r=W.master_franchise_details.state)||void 0===r?void 0:r.investment,master_expected_roi_state:null===(o=W.master_franchise_details.state)||void 0===o?void 0:o.roi,master_expected_payback_period_state:null===(c=W.master_franchise_details.state)||void 0===c?void 0:c.payback,master_required_area_city:null===(h=W.master_franchise_details.city)||void 0===h?void 0:h.area,master_investment_range_city:null===(u=W.master_franchise_details.city)||void 0===u?void 0:u.investment,master_expected_roi_city:null===(v=W.master_franchise_details.city)||void 0===v?void 0:v.roi,master_expected_payback_period_city:null===(p=W.master_franchise_details.city)||void 0===p?void 0:p.payback,expansion_state_ids:W.expansion_state_ids.join(","),expansion_city_ids:W.expansion_city_ids.join(","),master_franchise_state_ids:W.master_franchise_state_ids.join(","),master_franchise_city_ids:W.master_franchise_city_ids.join(",")};console.log("=== COMPLETE PAYLOAD STRUCTURE ==="),console.log("Full payload:",x);try{console.log("Request data:",x);const e=await l.A.post((0,d.e)("simple-api.php"),x);U(null),e.data.success?(U({type:"success",text:"\u2705 Profile updated successfully!"}),setTimeout(m,1500)):U({type:"success",text:"\u2705 ".concat(e.data.message)})}catch(j){console.log("=== API REQUEST ERROR ==="),console.error("Error object:",j),j.response&&console.log("Error response data:",j.response.data),U({type:"error",text:"\u274c An error occurred while saving. Please try again."})}finally{z(!1),console.log("=== SAVE PROCESS COMPLETED ===")}},disabled:X,children:"Save Changes"})]})]})})};var _=s(4030),m=s(9981);const h=()=>{const[e,a]=(0,i.useState)(null),[s,t]=(0,i.useState)(!1),[l,r]=(0,i.useState)(null),h=(0,m.Zp)();return(0,i.useEffect)(()=>{let e=null;try{const a=localStorage.getItem("userSession");if(a){const s=JSON.parse(a);s&&s.id&&(e=s.id)}}catch(a){console.error("Failed to parse user session:",a)}e?r(e):h("/")},[h]),(0,i.useEffect)(()=>{(async()=>{if(l)try{const e=await fetch((0,d.e)("get-brand-profile.php?brand_id=".concat(l))),s=await e.json();s&&!s.error?a(s):console.error("Fetch brand error:",s.error)}catch(e){console.error("Network or parsing error:",e)}})()},[l]),e?(0,o.jsxs)("div",{className:"brand-crm-container",children:[(0,o.jsx)(n.A,{}),(0,o.jsxs)("div",{className:"profile-main",children:[(0,o.jsx)(_.A,{}),(0,o.jsx)("div",{className:"profile-container",children:(0,o.jsxs)("div",{className:"profile-card",children:[(0,o.jsx)("div",{className:"profile-avatar"}),(0,o.jsxs)("div",{className:"profile-info",children:[(0,o.jsx)("h2",{children:e.name}),(0,o.jsxs)("div",{className:"profile-fields",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Mobile:"})," ",e.mobile]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"State:"})," ",e.state_name]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"City:"})," ",e.city_name]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Master Category:"})," ",e.master_category_name]})]}),(0,o.jsx)("button",{className:"edit-profile-btn",onClick:()=>t(!0),children:"Edit Profile"})]})]})}),s&&(0,o.jsx)(c,{brandData:e,onClose:()=>t(!1)})]})]}):(0,o.jsxs)("div",{className:"brand-crm-container",children:[(0,o.jsx)(n.A,{}),(0,o.jsx)("div",{className:"profile-main",children:(0,o.jsx)("p",{children:"Loading brand profile..."})})]})}},4030:(e,a,s)=>{s.d(a,{A:()=>l});var i=s(5043),n=(s(9840),s(9981)),t=s(579);const l=()=>{const[e,a]=(0,i.useState)("Brand"),s=(0,n.Zp)();return(0,i.useEffect)(()=>{try{const e=localStorage.getItem("userSession");if(e){const s=JSON.parse(e);a(s.name||"Brand")}else s("/")}catch(e){console.error("Failed to retrieve or parse user session:",e)}},[]),(0,t.jsx)("header",{className:"brand-header",children:(0,t.jsxs)("h1",{children:["Welcome, ",e,"!"]})})}},7281:(e,a,s)=>{s.d(a,{A:()=>r});var i=s(5043),n=(s(9840),s(9981)),t=s(184),l=s(579);const r=()=>{const[e,a]=(0,i.useState)(!0);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"brand-sidebar ".concat(e?"open":"collapsed"),children:[(0,l.jsxs)("div",{className:"sidebar-header",children:[e?"Brand CRM":"",(0,l.jsx)("button",{className:"toggle-btn",onClick:()=>{a(!e)},children:e?(0,l.jsx)(t.QCr,{}):(0,l.jsx)(t.OXb,{})})]}),(0,l.jsxs)("ul",{className:"sidebar-menu",children:[(0,l.jsx)("li",{children:(0,l.jsxs)(n.N_,{to:"/brand/dashboard",children:["\ud83c\udfe0 ",e&&"Dashboard"]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(n.N_,{to:"/brand/inquiries",children:["\ud83d\udce8 ",e&&"Inquiries"]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(n.N_,{to:"/brand/upload-docs",children:["\ud83d\udcc1 ",e&&"Upload Docs"]})}),(0,l.jsx)("div",{className:"sidebar-divider"})," ",(0,l.jsx)("li",{children:(0,l.jsxs)(n.N_,{to:"/brand/profile",children:["\ud83d\udc64 ",e&&"Profile"]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(n.N_,{to:"/pricing",children:["\ud83d\udcbc ",e&&"Pricing"]})}),(0,l.jsx)("li",{children:(0,l.jsxs)("a",{href:"#",onClick:()=>{localStorage.clear(),window.location.href="/"},children:["\ud83d\udeaa ",e&&"Logout"]})})]})]})})}},9840:()=>{}}]);
//# sourceMappingURL=2730.408d3808.chunk.js.map